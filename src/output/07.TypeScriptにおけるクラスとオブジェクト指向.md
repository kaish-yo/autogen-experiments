# 07.TypeScriptにおけるクラスとオブジェクト指向

### 07.TypeScriptにおけるクラスとオブジェクト指向

この章では、TypeScriptにおけるクラスとオブジェクト指向プログラミング（OOP）の基本的な概念について探求します。TypeScriptは、JavaScriptにオブジェクト指向の特徴を加えることができるため、効果的にクラスベースのプログラミングスタイルを利用できます。具体的な構文、使用例、そしてPythonとの対比を通して、理解を深めていきます。

#### 7.1 クラスの定義とインスタンス化

TypeScriptでは、クラスはオブジェクトの基本的なテンプレートとして機能します。クラスはプロパティを持ち、メソッドを利用してデータ操作を行います。

##### クラスの基本的な構文
以下は、TypeScriptでのクラスの基本的な定義とインスタンス化の例です。

```typescript
class Person {
    name: string;
    age: number;

    constructor(name: string, age: number) {
        this.name = name;
        this.age = age;
    }

    greet() {
        console.log(`Hello, my name is ${this.name}`);
    }
}

const alice = new Person("Alice", 30);
alice.greet();  // "Hello, my name is Alice"
```

ここで、`Person`クラスは`name`および`age`というプロパティを持ち、コンストラクタを通じて初期化されています。また、`greet`メソッドを使って、自己紹介を行います。

#### 7.2 継承の概念

TypeScriptでは、継承を使用することで、クラスの機能を拡張し、再利用性を高めることが可能です。基底クラス（親クラス）から派生したサブクラス（子クラス）は、親クラスのプロパティやメソッドを引き継ぐことができます。

##### 継承の例
以下は、TypeScriptでの継承の例です。

```typescript
class Employee extends Person {
    employeeId: number;

    constructor(name: string, age: number, employeeId: number) {
        super(name, age); // 親クラスのコンストラクタを呼び出します
        this.employeeId = employeeId;
    }

    displayId() {
        console.log(`Employee ID: ${this.employeeId}`);
    }
}

const bob = new Employee("Bob", 25, 101);
bob.greet();      // "Hello, my name is Bob"
bob.displayId();  // "Employee ID: 101"
```

`Employee`クラスは`Person`クラスを拡張し、追加のプロパティ`employeeId`を持っています。`super`キーワードを使って親クラスのコンストラクタを呼び出すことにより、親クラスのプロパティを初期化します。

#### 7.3 アクセス修飾子

TypeScriptのクラスでは、プロパティやメソッドにアクセス修飾子を設定できます。これにより、外部からのアクセス制御を行うことができます。

- **public**: どこからでもアクセス可能（デフォルト）
- **private**: 同じクラス内からのみアクセス可能
- **protected**: 同じクラス及びそのサブクラスからアクセス可能

```typescript
class Vehicle {
    protected wheels: number;

    constructor(wheels: number) {
        this.wheels = wheels;
    }
}

class Car extends Vehicle {
    drive() {
        console.log(`This car has ${this.wheels} wheels.`);
    }
}

const car = new Car(4);
car.drive(); // "This car has 4 wheels."
```

この例では、`wheels`プロパティは`protected`であるため、`Vehicle`のサブクラスでアクセスできるようになっていますが、外部からは直接アクセスできません。

#### 7.4 抽象クラスとインターフェース

TypeScriptでは、抽象クラスやインターフェースを利用することで、クラスの設計をより柔軟に行えます。

- **抽象クラス**: 一部のメソッドを実装せず、サブクラスに実装を強制します。
- **インターフェース**: クラスが実装すべきメソッドやプロパティの形を定義します。

##### 抽象クラスの例
```typescript
abstract class Animal {
    abstract sound(): void; // 抽象メソッド

    move() {
        console.log("The animal moves");
    }
}

class Dog extends Animal {
    sound() {
        console.log("Woof!");
    }
}

const dog = new Dog();
dog.sound(); // "Woof!"
dog.move();  // "The animal moves"
```

##### インターフェースの例
```typescript
interface Drivable {
    drive(): void;
}

class Motorcycle implements Drivable {
    drive() {
        console.log("Driving the motorcycle");
    }
}

const bike = new Motorcycle();
bike.drive(); // "Driving the motorcycle"
```

#### 7.5 Pythonとの対比

Pythonには、オブジェクト指向プログラミングもサポートされていますが、構文や実装においていくつかの違いがあります。以下に簡単な比較を示します。

##### Pythonのクラス定義
```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def greet(self):
        print(f"Hello, my name is {self.name}")

alice = Person("Alice", 30)
alice.greet()  # "Hello, my name is Alice"
```

Pythonでは、アクセス修飾子は存在せず、代わりにプロパティ名の前にアンダースコアを付けることで、外部からのアクセスの意図を示すことが一般的です。また、Pythonは多重継承をサポートしており、これがTypeScriptとの大きな違いとなります。

#### 7.6 まとめ

TypeScriptにおけるクラスとオブジェクト指向の概念は、柔軟で再利用性の高いコードを書くために重要な要素です。これにより、開発者は設計の明確性を提供し、複雑なアプリケーションを簡潔に管理することが可能になります。次の章では、TypeScriptとPythonの設計思想の違いについて考察していきます。

